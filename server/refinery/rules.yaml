RulesVersion: 2
Samplers:
    __default__:
      DeterministicSampler:
          SampleRate: 1
    prod:
      RulesBasedSampler:
        Rules:
          - Name: keep errors
            SampleRate: 1
            Conditions:
              - Field: error
                Operator: exists
          - Name: set-presence = 1/100
            SampleRate: 100 
            Conditions: 
              - Field: op
                Operator: = 
                Value: ':set-presence' 
          - Name: client-broadcast = 1/10 
            SampleRate: 10
            Conditions:
              - Field: op 
                Operator: =
                Value: ':client-broadcast'
          - Name: default rule
            Sampler:
              EMAThroughputSampler:
                # With one server, that's about 65MM/month
                GoalThroughputPerSec: 25
                FieldList:
                  - name
